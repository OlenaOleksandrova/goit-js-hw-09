{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const elems = {\n//     btn: document.querySelector('.button)';\n// }\n// elems.btn.addEventListener('clack', setStorageData);\n\n// function setStorageData(event) {\n//     localStorage.setItem('elem', event.target.className);\n// }\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    const STORAGE_KEY = 'feedback-form-state';\n\n    let formData = { email: '', message: '' };\n\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (savedData) {\n        try { \n        formData = JSON.parse(savedData);\n        form.email.value = formData.email || '';\n        form.message.value = formData.message || '';\n        } catch (error) {  \n    }\n }\n    const form = document.querySelector('.feedback-form');\n    const textarea = form.querySelector('textarea');\n\n    form.addEventListener('submit', handleFormSubmit);\n\n\n    function handleFormSubmit(event) {\n        event.preventDefault();\n\n        // formData[event.target.name] = event.target.value.trim();\n        formData.email = form.email.value.trim();\n        formData.message = form.message.value.trim();\n\n        if (formData.email === \"\" || formData.message === \"\") {\n            alert('Fill please all fields');\n            return;\n        }\n localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n\n       \n        // const form = event.currentTarget;\n        localStorage.removeItem(STORAGE_KEY);\n    \n        form.reset();\n        formData = { email: '', message: '' };\n    };\n\n    textarea.addEventListener('input', handleMessageInput);\n\n    function handleMessageInput(event) {\n\n        console.log(event.target.value);\n\n          formData.message = event.target.value;\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n        \n\n        let data;\n        if (typeof event.target.value !== \"string\") {\n            data = JSON.stringify(event.target.value);\n        }\n        data = event.target.value;\n\n        localStorage.setItem(STORAGE_KEY, data)\n\n        \n    }\n\n});"],"names":["STORAGE_KEY","formData","savedData","form","textarea","handleFormSubmit","event","handleMessageInput","data"],"mappings":"wFAQA,SAAS,iBAAiB,mBAAoB,IAAM,CAEhD,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAY,aAAa,QAAQF,CAAW,EAClD,GAAIE,EACA,GAAI,CACJD,EAAW,KAAK,MAAMC,CAAS,EAC/BC,EAAK,MAAM,MAAQF,EAAS,OAAS,GACrCE,EAAK,QAAQ,MAAQF,EAAS,SAAW,EACxC,MAAe,CACnB,CAED,MAAME,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,SAAUE,CAAgB,EAGhD,SAASA,EAAiBC,EAAO,CAO7B,GANAA,EAAM,eAAc,EAGpBL,EAAS,MAAQE,EAAK,MAAM,MAAM,KAAI,EACtCF,EAAS,QAAUE,EAAK,QAAQ,MAAM,KAAI,EAEtCF,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAC9B,MACH,CACR,aAAa,QAAQD,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAInD,aAAa,WAAWD,CAAW,EAEnCG,EAAK,MAAK,EACVF,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CAE3C,CACIG,EAAS,iBAAiB,QAASG,CAAkB,EAErD,SAASA,EAAmBD,EAAO,CAE/B,QAAQ,IAAIA,EAAM,OAAO,KAAK,EAE5BL,EAAS,QAAUK,EAAM,OAAO,MAClC,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAG1D,IAAIO,EACA,OAAOF,EAAM,OAAO,OAAU,WAC9BE,EAAO,KAAK,UAAUF,EAAM,OAAO,KAAK,GAE5CE,EAAOF,EAAM,OAAO,MAEpB,aAAa,QAAQN,EAAaQ,CAAI,CAGzC,CAEL,CAAC"}